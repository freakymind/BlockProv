<div class="container-fluid" style="background-color:#333;" ng-controller="userCtrl as register" ng-init="register.fetchCountries()" >


	<div class="row" style="margin-top: 50px;">
		<div class="col-sm-10 col-sm-offset-1">
			<div class="row">
				<div class="col-sm-6 col-sm-offset-3" style="background-color:#F39C12; height:10px;"></div>
			</div>
			<div class="row">
				<div class="col-sm-6 col-sm-offset-3" style="background-color: #eee; padding: 5%; margin-bottom: 10%;">
					
					<div class="row">
						<div class="col-sm-12">
							<h1><b>Sign Up</b> </h1>
							<br>
						</div>
					</div>

					<form name="SignupForm" novalidate>
						<div class="form-group">
							<label>Name:</label>
							<input  
								type="text" 
								class="form-control {{register.inputFields.fullname}}" 
								name="fullname" 
								ng-model="register.regData.fullname" 
								ng-pattern="/^(([a-zA-Z]{2,20})+[ ]+([a-zA-Z]{2,20})+)+$/" 
								ng-maxlength="30"
								ng-minlength="3"
								required
							>
							
							<div ng-show="(SignupForm.fullname.$pristine || SignupForm.fullname.$invalid)">
								<a href="#" title="Info" data-toggle="popover" data-trigger="hover focus" data-content="3 to 30, no special chars or numbers and a space in between." > Info </a>
							</div>
						</div>

						<div class="form-group">
							<label>Email ID:</label>
							<input 
								type="text" 
								class="form-control {{register.inputFields.emailid}}" 
								name="emailid" 
								ng-model="register.regData.emailid" 
								ng-pattern='/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i'
								ng-maxlength="30"
								ng-minlength="3"
								ng-blur="register.checkEmail(SignupForm.emailid.$valid)"
								required>

								<div ng-show="(SignupForm.emailid.$pristine || SignupForm.emailid.$invalid)">
									<a href="#" title="Info" data-toggle="popover" data-trigger="hover focus" data-content="3 to 30, and must be a valid email ID format" > Info </a>
								</div>
								<div ng-show="(!register.isEmailValid && !(SignupForm.emailid.$pristine || SignupForm.emailid.$invalid))">
									Email Id Exists
								</div>
						</div>

						<div class="form-group">
							<label>Country:</label>
							<input 
							type="text" 
							list="countries" 
							class="form-control {{register.inputFields.country}}" 
							name="country" 
							ng-model="register.regData.country" 
							ng-change = "register.loadCountries(register.regData.country)" 
							ng-blur = "register.countryInList(register.regData.country)" 
							required>
							<datalist id="countries">
							  <option ng-repeat = 'x in register.dropdCountries' value="{{x}}">
							</datalist>
						</div>
						
						<div class="form-group">
							<label>Address:</label>
							<input type="text" class="form-control {{register.inputFields.address}}" name="address" ng-model="register.regData.address" required>

						</div>
						
						<div class="form-group">
							<label>Phone No.:</label>
							<input type="text" class="form-control {{register.inputFields.phone_no}}" name="phone_no" ng-model="register.regData.phone_no" required>
						</div>
						
						<div class="form-group">
							<label>Username:</label>
							<input 
								type="text" 
								class="form-control {{register.inputFields.username}}" 
								name="username" 
								ng-model="register.regData.username" 
								ng-pattern='/^[a-zA-Z0-9]+$/i'
								ng-maxlength="30"
								ng-minlength="8"
								ng-blur="register.checkUsername(SignupForm.username.$valid)"
								required>

							<div ng-show="(SignupForm.username.$pristine || SignupForm.username.$invalid)">
								<a href="#" title="Info" data-toggle="popover" data-trigger="hover focus" data-content="3 to 30, and only alphanumeric" > Info </a>
							</div>
							<div ng-show="!register.isUsernameValid && !(SignupForm.username.$pristine || SignupForm.username.$invalid)">
								username taken
							</div>
						</div>

						<div class="form-group">
							<label>Password:</label>
							<input type="password" class="form-control {{register.inputFields.password}}" name="password" ng-model="register.regData.password" required>
						</div>

						<div class="form-group">
							<label>Retype Password:</label>
							<input 
								type="password" 
								class="form-control {{register.inputFields.retypepass}}" 
								name="retypepass" 
								ng-model="register.regData.retypepass" 
								match='{{register.regData.password}}'
								required
							>

							<div ng-show="(!register.passwordIsValid || SignupForm.retypepass.$invalid)">
								<a href="#" title="Info" data-toggle="popover" data-trigger="hover focus" data-content="must match the password" > Info </a>
							</div>
						</div>

						<button type="button" style ="background-color: #F39C12; color: #fff; border: none; width:80px;" class="btn btn-primary " ng-click="register.submitRegDetails(register.regData, (register.isUsernameValid && register.isEmailValid && SignupForm.$valid && register.passwordIsValid))" data-toggle="modal" data-target="#myModal">Sign Up</button>
						<br><br>
						
						<div class="modal fade" id="myModal" role="dialog">
						    <div class="modal-dialog">
						    
						      <!-- Modal content-->
						      <div class="modal-content">
						        <div class="modal-header">
						          <button type="button" class="close" data-dismiss="modal">&times;</button>
						          <h4 class="modal-title">{{register.signupModalHeader}}</h4>
						        </div>
						        <div class="modal-body">
						          <p>{{register.signupModalMessage}}</p>
						        </div>
						        <div class="modal-footer">
						          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
						        </div>
						      </div>
						      
						    </div>
					  	</div>

					</form>
				</div>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript">

	$(document).ready(function() {
	    $('[data-toggle="popover"]').popover(); 
	});

</script>>
